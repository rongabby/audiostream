<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Music Player Iframe</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .iframe-container {
            width: 100%;
            height: 800px;
            border: 2px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .music-player-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        .status {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéµ Audio Playback Stream - Live Test</h1>
            <p>Testing the deployed application embedded via iframe</p>
        </div>
        
        <div class="status">
            <h2>‚úÖ Deployment Status</h2>
            <p><strong>Live URL:</strong> <a href="https://rongabby.github.io/audiostream/" target="_blank">https://rongabby.github.io/audiostream/</a></p>
            <p><strong>Status:</strong> Successfully deployed to GitHub Pages</p>
            <p><strong>Build:</strong> Expo web export completed</p>
            <p><strong>Integration:</strong> Ready for iframe embedding</p>
        </div>
        
        <div class="iframe-container">
            <iframe 
                src="https://rongabby.github.io/audiostream/" 
                class="music-player-iframe"
                title="Audio Playback Stream App"
                allow="microphone; camera; autoplay; encrypted-media; fullscreen"
                sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-modals allow-top-navigation">
                <p>Your browser does not support iframes. Please visit the music player directly at: 
                   <a href="https://rongabby.github.io/audiostream/">https://rongabby.github.io/audiostream/</a>
                </p>
            </iframe>
        </div>
        
        <div class="status">
            <h2>üîß Integration Notes</h2>
            <ul>
                <li>‚úÖ Application builds successfully with Expo</li>
                <li>‚úÖ Static files deployed to GitHub Pages</li>
                <li>‚úÖ Iframe permissions configured for audio playback</li>
                <li>‚úÖ Responsive design works in iframe context</li>
                <li>‚ö†Ô∏è Supabase configuration may need environment setup for full functionality</li>
            </ul>
        </div>
    </div>

    <script>
        // Test iframe communication and loading
        const iframe = document.querySelector('.music-player-iframe');
        
        iframe.addEventListener('load', function() {
            console.log('‚úÖ Iframe loaded successfully');
            
            // Optional: Add a loading indicator removal or success message
            const statusDiv = document.querySelector('.status');
            statusDiv.innerHTML += '<p style="color: green;"><strong>‚úÖ Iframe loaded successfully!</strong></p>';
        });
        
        iframe.addEventListener('error', function() {
            console.error('‚ùå Iframe failed to load');
            
            const statusDiv = document.querySelector('.status');
            statusDiv.innerHTML += '<p style="color: red;"><strong>‚ùå Iframe failed to load. Check the console for details.</strong></p>';
        });

        // Monitor for any console errors from the iframe
        window.addEventListener('message', function(event) {
            if (event.origin === 'https://rongabby.github.io') {
                console.log('Message from iframe:', event.data);
            }
        });
    </script>
</body>
</html>
